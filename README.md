# ColorOS Feature Enhance å¯è§†åŒ–ç¼–è¾‘å™¨

ä¸€ä¸ªç”¨äº **å¯è§†åŒ–ç¼–è¾‘ä¸ç®¡ç† ColorOS ç‰¹æ€§å¼€å…³**ï¼ˆå¦‚ `com.oplus.app-features.xml` ä¸ `com.oplus.oplus-feature.xml`ï¼‰çš„å¼€æºå·¥å…·ï¼Œä½¿ç”¨ **Kotlin + Jetpack Compose** å¼€å‘ï¼Œéµå¾ª **Material 3 Expressive** è®¾è®¡è§„èŒƒã€‚

> âš ï¸ æœ¬åº”ç”¨ **éœ€è¦ Root æƒé™** æ‰èƒ½æ­£å¸¸è¯»å†™ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œè¯·ç¡®ä¿ç›®æ ‡è®¾å¤‡å·² Rootã€‚

---

## âœ¨ ä¸»è¦åŠŸèƒ½

- **åŒæ¨¡å¼ç¼–è¾‘**ï¼šä¸€é”®åœ¨ *App-Features* ä¸ *Oplus-Features* æ¨¡å¼ä¹‹é—´åˆ‡æ¢ï¼›
- **å®æ—¶å¯è§†åŒ–**ï¼šæŒ‰ç…§ã€Œæè¿° â†’ åˆ†ç»„ â†’ å¼€å…³ã€å±‚çº§å±•ç°æ‰€æœ‰ç‰¹æ€§ï¼Œæ‰€è§å³æ‰€å¾—ï¼›
- **æœç´¢ & é«˜äº®**ï¼šæ”¯æŒæŒ‰åç§° / æè¿°é«˜é€Ÿæ¨¡ç³Šæœç´¢å¹¶è‡ªåŠ¨é«˜äº®åŒ¹é…å…³é”®å­—ï¼›
- **åˆ†ç»„æŠ˜å **ï¼šåŒä¸€æè¿°çš„ç‰¹æ€§è‡ªåŠ¨å½’ä¸ºåŒç»„ï¼Œå¯å±•å¼€ / æŠ˜å æŸ¥çœ‹ï¼›
- **å¿«é€Ÿå¢åˆ æ”¹**ï¼šé•¿æŒ‰åˆ—è¡¨é¡¹å¯åˆ é™¤ï¼Œæ‚¬æµ®æŒ‰é’®ï¼ˆFABï¼‰å¯æ–°å¢ï¼Œå¼€å…³å³æ”¹å€¼ï¼›
- **æ–‡æœ¬ç¼–è¾‘æ¨¡å¼**ï¼šå†…ç½®çº¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯ç›´æ¥æŸ¥çœ‹ / ç¼–è¾‘åŸå§‹ XMLï¼›
- **å›½é™…åŒ–**ï¼šå†…ç½®ç®€ä½“ä¸­æ–‡ã€è‹±è¯­åŒè¯­ï¼›
- **æ•°æ®æŒä¹…åŒ–**ï¼šç”¨æˆ·è‡ªå®šä¹‰æè¿°æ˜ å°„æŒä¹…ä¿å­˜äº `SharedPreferences`ï¼›
- **ç¤ºä¾‹é…ç½®**ï¼šä»“åº“ `exampleConfig/` æä¾›å‚è€ƒ XMLï¼Œæ–¹ä¾¿å¿«é€Ÿä½“éªŒã€‚

---

## ğŸ“‚ é¡¹ç›®ç›®å½•

```text
com.itosfish.colorfeatureenhance
â”œâ”€â”€ data
â”‚   â”œâ”€â”€ model/                 # æ•°æ®æ¨¡å‹ï¼ˆAppFeatureã€FeatureGroup ç­‰ï¼‰
â”‚   â””â”€â”€ repository/            # XML è¯»å†™ä»“åº“ï¼ˆXmlFeatureRepositoryâ€¦ï¼‰
â”œâ”€â”€ domain
â”‚   â””â”€â”€ FeatureRepository.kt   # é¢†åŸŸå±‚æ¥å£ï¼ŒæŠ½è±¡æ•°æ®æ“ä½œ
â”œâ”€â”€ navigation
â”‚   â””â”€â”€ Navigation.kt          # åº”ç”¨å¯¼èˆªè·¯ç”±
â”œâ”€â”€ ui
â”‚   â”œâ”€â”€ components/            # å¯å¤ç”¨ UI ç»„ä»¶ï¼ˆSearchBarã€FABâ€¦ï¼‰
â”‚   â”œâ”€â”€ screens/               # å®Œæ•´é¡µé¢ï¼ˆæœªæ¥æ‰©å±•ï¼‰
â”‚   â”œâ”€â”€ search/                # æœç´¢é€»è¾‘ï¼ˆSearchLogicï¼‰
â”‚   â”œâ”€â”€ theme/                 # Material 3 Expressive ä¸»é¢˜å®šä¹‰
â”‚   â”œâ”€â”€ FeatureConfigScreen.kt # ä¸»è¦é…ç½®ç•Œé¢
â”‚   â””â”€â”€ TextEditorActivity.kt  # å†…ç½®æ–‡æœ¬ç¼–è¾‘å™¨
â”œâ”€â”€ utils                      # å·¥å…·ç±»ï¼ˆConfigUtilsã€DialogUtilâ€¦ï¼‰
â”œâ”€â”€ FeatureMode.kt             # æ¨¡å¼æšä¸¾
â””â”€â”€ MainActivity.kt            # åº”ç”¨å…¥å£
```

---

## ğŸ—ï¸ æ¶æ„è¯´æ˜

| Layer | å…³é”®èŒè´£ | ä»£è¡¨æ–‡ä»¶ / ç›®å½• |
|-------|-----------|----------------|
| UI    | Compose æ¸²æŸ“ã€äº¤äº’ã€å¯¼èˆª | `ui/` `Navigation.kt` |
| Domain| ä¸šåŠ¡è§„åˆ™ã€æ¥å£å®šä¹‰        | `domain/FeatureRepository.kt` |
| Data  | æ•°æ®è·å–ã€XML è§£æ & æŒä¹…åŒ– | `data/` `utils/ConfigUtils.kt` |

- **åç¨‹**ï¼šæ‰€æœ‰ I/O å‡é€šè¿‡ `Dispatchers.IO` è°ƒåº¦ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚
- **ä¾èµ–å€’ç½®**ï¼šUI ä»…ä¾èµ–æ¥å£ï¼Œä¸ç›´æ¥ä¾èµ–æ•°æ®å®ç°ï¼Œæ–¹ä¾¿æµ‹è¯•ä¸æ‰©å±•ã€‚

---

## ğŸš€ ç¼–è¯‘ä¸è¿è¡Œ

1. **ç¯å¢ƒè¦æ±‚**
   - Android Studio **Giraffe / Hedgehog** åŠä»¥ä¸Šï¼›
   - Android Gradle Plugin 8+ï¼›
   - Kotlin 1.9+ï¼›
2. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/yourname/ColorFeatureEnhance.git
   ```
3. **å¯¼å…¥é¡¹ç›®**ï¼šä½¿ç”¨ Android Studio æ‰“å¼€æ ¹ç›®å½•ï¼Œç­‰å¾… Gradle åŒæ­¥å®Œæˆï¼›
4. **è¿æ¥ Root è®¾å¤‡** å¹¶å¯ç”¨ USB è°ƒè¯•ï¼›
5. **Run â–¶ï¸**ï¼šé€‰æ‹©ç›®æ ‡è®¾å¤‡åç‚¹å‡»è¿è¡Œï¼›
6. **å‡†å¤‡é…ç½®æ–‡ä»¶**ï¼ˆå¯é€‰ï¼‰ï¼šå°† `com.oplus.*.xml` å¤åˆ¶åˆ°
   `/sdcard/Android/data/com.itosfish.colorfeatureenhance/files/`ï¼›

> äº¦å¯ç›´æ¥ä½¿ç”¨ `exampleConfig/` ä¸­çš„ç¤ºä¾‹ XML ä½“éªŒåº”ç”¨åŠŸèƒ½ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**ï¼šKotlin
- **UI**ï¼šJetpack Compose + Material 3
- **å¼‚æ­¥**ï¼šKotlin Coroutines
- **æŒä¹…åŒ–**ï¼šSharedPreferences
- **å…¶ä»–**ï¼šXML Pull è§£æã€Android ViewModel (å¦‚éœ€)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æ Issueã€PR æˆ–æå‡ºåŠŸèƒ½å»ºè®®ï¼æ PR å‰è¯·ç¡®ä¿ï¼š

1. éµå¾ª `ktlint` / `detekt` ä»£ç è§„èŒƒï¼›
2. æ‰€æœ‰æ–°ç‰¹æ€§é™„å¸¦ä¸­ / è‹±æ–‡æ³¨é‡Šï¼›
3. ä¸ç ´åç°æœ‰åŠŸèƒ½ï¼Œä»»ä½•è·¨æ¨¡å—æ”¹åŠ¨éœ€åŒæ­¥æ›´æ–°æ–‡æ¡£ï¼›
4. é€šè¿‡ CI / æœ¬åœ°å•å…ƒæµ‹è¯•ã€‚

---

## ğŸ“œ è®¸å¯è¯

Apache-2.0 Â© 2024 itosfish & Contributors

---

> â€œMake editing features as simple as flipping a switch.â€
